window.paddingRightItems="#page-header";var bodyScrollOptions={reserveScrollBarGap:!0};function openModal(e){0<$(e).length&&($(e).trigger("beforeOpenModal").fadeIn(300).trigger("afterOpenModal"),bodyScrollLock.clearAllBodyScrollLocks(),bodyScrollLock.disableBodyScroll(e,bodyScrollOptions))}function closeModals(){$(".popup-block:not(:hidden)").trigger("beforeCloseModal").fadeOut(200,function(){bodyScrollLock.clearAllBodyScrollLocks()}).trigger("afterCloseModal")}$(document.body).on("click",'[data-toggle="switch-modal"]',function(e){e.preventDefault();var t=$(this).attr("data-target");$(".popup-block:not(:hidden)").fadeOut(200),$(t).fadeIn(200),bodyScrollLock.disableBodyScroll(t,bodyScrollOptions)}),$(document.body).on("click",'[data-toggle="modal"]',function(e){e.preventDefault(),openModal($(this).attr("data-target"))}),$(document.body).on("click",".popup-block__overlay",function(e){$(this).children('[data-toggle="modal-dismiss"]');e.target==this&&closeModals()}),$(document.body).on("click",'[data-toggle="modal-dismiss"]',function(e){e.preventDefault(),closeModals()}),$(document).off("cut copy paste",".no-paste").on("cut copy paste",".no-paste",function(e){e.preventDefault()}),$('[data-toggle="scroll-to-top"]').click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},600)}),$('[data-toggle="anchor"]').click(function(e){e.preventDefault();var t=$(this).attr("data-target"),a=$(t).offset().top-150;$("html,body").animate({scrollTop:a},400)}),$('[data-toggle="tab"]').click(function(e){e.preventDefault();var t=$(this).attr("data-target");$(this).parent().is("li")?$(this).parent().addClass("active").siblings().removeClass("active"):$(this).addClass("active").siblings().removeClass("active"),$(t).addClass("active").siblings().removeClass("active")}),$('input[type="number"]').on("keydown",function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||/65|67|86|88/.test(e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()}),$.extend($.validator.messages,{required:"Это поле обязательное",email:"Введите правильный формат E-mail",url:"Введите правильный формат URL",date:"Введите правильный формат даты",number:"Введите цифры",digits:"Введите цифры",creditcard:"Введите правильную кредитную карточку",equalTo:"Поля должны соответствовать",maxlength:jQuery.validator.format("Максимальная длина - {0} знаков"),minlength:jQuery.validator.format("Минимальная длина - {0} знаков"),rangelength:jQuery.validator.format("Длина должна быть между {0} и {1} знаками"),range:jQuery.validator.format("Введите цифру между {0} и {1}"),max:jQuery.validator.format("Максимальное допустимое значение - {0}."),min:jQuery.validator.format("Минимально допустимое значение - {0}.")}),$.validator.methods.email=function(e,t){return this.optional(t)||/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},$.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Вы можете ввести только буквы"),$.validator.methods.number=function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(e)},$.validator.methods.range=function(e,t,a){var o=e.replace(",",".");return this.optional(t)||o>=a[0]&&o<=a[1]},$.validator.methods.min=function(e,t,a){return e=e.replace(",","."),this.optional(t)||a<=e},$.validator.methods.max=function(e,t,a){return e=e.replace(",","."),this.optional(t)||e<=a},$(document).ready(function(){$(".form-validate").each(function(){$(this).validate({validateDelegate:function(){},onsubmit:!0,errorElement:"div",errorPlacement:function(e,t){switch(e.addClass("invalid-feedback"),t.prop("type")){case"select-one":e.appendTo(t.parent());break;case"checkbox":case"radio":e.insertAfter(t.parent());break;default:e.insertAfter(t)}},highlight:function(e,t,a){$(e).addClass("is-invalid").parent().addClass("is-invalid")},unhighlight:function(e,t,a){$(e).removeClass("is-invalid").parent().removeClass("is-invalid")},focusInvalid:!1,invalidHandler:function(e,t){if(t.numberOfInvalids()){var a=$(t.errorList[0].element);if("select-one"!==$(a).prop("type")&&"radio"!==$(a).prop("type")&&"checkbox"!==$(a).prop("type")||(a=$(a).parent()),0<$(a).parents(".popup-block").length){var o=$(this).parents(".popup-block"),n=$(o).scrollTop()+$(a).offset().top-120;$(o).animate({scrollTop:n},400)}else{n=$(a).offset().top-120;$("html, body").animate({scrollTop:n},400)}}},ignore:".tab-pane:hidden *, :disabled, .no-validate"}),setTimeout(function(){$(this).find(".num-input").each(function(){$(this).rules("add",{required:!0,number:!0})}),$(this).find('[type="email"]').each(function(){$(this).rules("add",{required:!0,email:!0})})},0)})}),$(".page-header__menu-toggle").on("click",function(e){e.preventDefault(),$(this).toggleClass("page-header__menu-close"),$(".page-header__nav").toggleClass("active")}),$(".first-block__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<a href="javascript:;" class="first-block__arrow prev"><i class="icon-arrow"></i></a>',nextArrow:'<a href="javascript:;" class="first-block__arrow next"><i class="icon-arrow"></i></a>',dots:!0}),$(".page-header__search").on("click",function(e){$(".page-main__header").hide(),$(".page-main__search-input-container").addClass("active"),$(".page-main__search-input").focus()}),$(".page-main__search-input-close").on("click",function(e){$(".page-main__header").show(),$(".page-main__search-input-container").removeClass("active")}),$(".page-card__slider-main").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,responsive:[{breakpoint:576,settings:{dots:!0}}]}),$(document).ready(function(){1199<$(window).width()&&$(".page-card__img-zoom").zoom()}),$(".page-card__preview-slide").on("click",function(e){var t=parseInt($(this).index())-4;$(".page-card__slider-main").slick("slickGoTo",t)}),$(".page-card__buy-btn").on("click",function(e){$(".popup-in-cart").show()}),$(".popup-in-cart__button").on("click",function(e){closeModals()}),$("input, textarea").each(function(e){""!=$(this).val()?$(this).addClass("not-empty").parent().addClass("not-empty"):$(this).removeClass("not-empty").parent().removeClass("not-empty")}),$(document).off("change focusout keydown keypress input","input, textarea").on("change focusout keydown keypress input","input, textarea",function(e){""!=$(this).val()?$(this).addClass("not-empty").parent().addClass("not-empty"):$(this).removeClass("not-empty").parent().removeClass("not-empty")}),$(document).off("focusin","input, textarea").on("focusin","input, textarea",function(e){$(this).parent().addClass("focused")}),$(document).off("focusout","input, textarea").on("focusout","input, textarea",function(e){$(this).parent().removeClass("focused")}),$(document).off("keypress keyup blur",".only-digits").on("keypress keyup blur",".only-digits",function(e){$(this).val($(this).val().replace(/[^0-9]/g,"")),(e.which<48||57<e.which)&&e.preventDefault()}),$(document).off("keypress keyup blur",".only-floats").on("keypress keyup blur",".only-floats",function(e){$(this).val($(this).val().replace(/[^0-9\,.]/g,"")),-1==$(this).val().indexOf(".")&&-1==$(this).val().indexOf(",")||!(e.which<48||57<e.which)||e.preventDefault()}),$(".page-checkout__shipping").on("click","button:not(.active)",function(){$(this).addClass("active").siblings().removeClass("active").closest("div.page-checkout__content").find("div.page-checkout__country").removeClass("active").eq($(this).index()).addClass("active")}),$(".page-checkout__radio-new-post").on("click",function(){$(".page-checkout__input-courier").removeClass("active"),$(".page-checkout__input-new-post").addClass("active")}),$(".page-checkout__radio-courier").on("click",function(){$(".page-checkout__input-new-post").removeClass("active"),$(".page-checkout__input-courier").addClass("active")}),0<$(".products-grid-index").length&&function(t){var a,o=0,n=t(".products-grid-index").offset().top;t(window).on("scroll load",function(){160<document.scrollingElement.scrollTop?t("body").addClass("scrolled"):document.scrollingElement.scrollTop<=160&&t("body").removeClass("scrolled")}),t(window).scroll(function(e){a=!0}),setInterval(function(){a&&(function(){var e=t(this).scrollTop();if(Math.abs(o-e)<=5)return;o<e&&n<e?t(".nav-main").addClass("js-nav-main-out"):e+t(window).height()<t(document).height()&&t(".nav-main").removeClass("js-nav-main-out");o=e}(),a=!1)},0)}($),$(document).on("click","[data-count-button]",function(e){e.preventDefault();var t=$(this).parent().find("input"),a=parseInt($(t).val()),o=parseInt($(t).attr("min")),n=parseInt($(t).attr("max"));$(this).hasClass("plus")?(a<n&&$(t).val(a+1).trigger("change"),$(this).parent().find(".disabled").removeClass("disabled")):(o<a&&$(t).val(a-1).trigger("change"),2==a&&$(this).parent().find(".minus").addClass("disabled"))});